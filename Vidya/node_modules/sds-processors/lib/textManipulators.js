export function substitute(reader, writer, source, replace, regexp = false) {
    const reg = regexp ? new RegExp(source) : source;
    reader.data(x => writer.push(x.replace(reg, replace)));
}
export function envsub(reader, writer) {
    var env = process.env;
    reader.data(x => {
        Object.keys(env).forEach(key => {
            const v = env[key];
            if (v) {
                x = x.replace(`\${${key}}`, v);
            }
        });
        return writer.push(x);
    });
}
